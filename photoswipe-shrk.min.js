"use strict";!function(a){a.fn.initPhotoSwipe=function(){var b=a(this);if(b.addClass("pswp-wrapper"),b.children().addClass("pswp-item"),0===b.length)return!1;for(var c=function(a){for(var b,c,d,e,f=a.childNodes,g=f.length,h=[],i=0;g>i;i++)if(b=f[i],1===b.nodeType){if(c="A"===jQuery(b).prop("tagName")?jQuery(b):jQuery(b).find("a")[0],!c.getAttribute("data-size"))return!1;d=c.getAttribute("data-size").split("x"),e={src:c.getAttribute("href"),w:parseInt(d[0],10),h:parseInt(d[1],10)},b.children.length>1&&(e.title=b.children[1].innerHTML),c.children.length>0&&(e.msrc=c.children[0].getAttribute("src")),e.el=b,h.push(e)}return h},d=function k(a,b){return a&&(b(a)?a:k(a.parentNode,b))},e=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,c=d(b,function(a){return jQuery(a).hasClass("pswp-item")});if(c){for(var e,f=c.parentNode,h=c.parentNode.childNodes,i=h.length,j=0,k=0;i>k;k++)if(1===h[k].nodeType){if(h[k]===c){e=j;break}j++}return e>=0&&g(e,f),!1}},f=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b.hasOwnProperty("pid")?(b.pid=parseInt(b.pid,10),b):b},g=function(b,d,e){var f,g,h,i=document.querySelectorAll(".pswp")[0];return(h=c(d))?(g={index:b,bgOpacity:.95,galleryUID:d.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(a){var b=h[a].el.getElementsByTagName("img")[0],c=window.pageYOffset||document.documentElement.scrollTop,d=b.getBoundingClientRect();return{x:d.left,y:d.top+c,w:d.width}}},e&&(g.showAnimationDuration=0),f=new PhotoSwipe(i,PhotoSwipeUI_Default,h,g),f.listen("afterChange",function(){shrk.woo.prodImage_swipeTo(this.getCurrentIndex())}),f.listen("gettingData",function(){jQuery("body").addClass("pswp-active")}),f.listen("destroy",function(){jQuery("body").removeClass("pswp-active")}),f.init(),void(a(window).width()<768&&a("body").hasClass("touch-device")&&f.ui.getFullscreenAPI().enter())):!1},h=0,i=b.length;i>h;h++)b[h].setAttribute("data-pswp-uid",h+1),b[h].onclick=e;var j=f();return j.pid>0&&j.gid>0&&g(j.pid-1,b[j.gid-1],!0),this}}(jQuery);